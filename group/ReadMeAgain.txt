This method assigns groups, but it hasn't figured out how to reduce quantity yet, so it ends up assigning more than possible. 
